<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linuxdcpp-developers] Help - entry in nickMenu not visible
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linuxdcpp-developers/2007-November/index.html" >
   <LINK REL="made" HREF="mailto:linuxdcpp-developers%40lists.berlios.de?Subject=Re%3A%20%5BLinuxdcpp-developers%5D%20Help%20-%20entry%20in%20nickMenu%20not%20visible&In-Reply-To=%3C4749B541.9080807%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000246.html">
   <LINK REL="Next"  HREF="000248.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linuxdcpp-developers] Help - entry in nickMenu not visible</H1>
    <B>Steven Sheehy</B> 
    <A HREF="mailto:linuxdcpp-developers%40lists.berlios.de?Subject=Re%3A%20%5BLinuxdcpp-developers%5D%20Help%20-%20entry%20in%20nickMenu%20not%20visible&In-Reply-To=%3C4749B541.9080807%40gmail.com%3E"
       TITLE="[Linuxdcpp-developers] Help - entry in nickMenu not visible">steven.sheehy at gmail.com
       </A><BR>
    <I>Sun Nov 25 18:47:45 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000246.html">[Linuxdcpp-developers] Help - entry in nickMenu not visible
</A></li>
        <LI>Next message: <A HREF="000248.html">[Linuxdcpp-developers] Help - entry in nickMenu not visible
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#247">[ date ]</a>
              <a href="thread.html#247">[ thread ]</a>
              <a href="subject.html#247">[ subject ]</a>
              <a href="author.html#247">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Pranith Kumar wrote:
&gt;<i> On Nov 25, 2007 10:27 PM, Pranith Kumar &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linuxdcpp-developers">bobby.prani at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> On Nov 25, 2007 10:16 PM, Steven Sheehy &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linuxdcpp-developers">steven.sheehy at gmail.com</A>&gt; wrote:
</I>&gt;&gt;&gt;<i> Pranith Kumar wrote:
</I>&gt;&gt;&gt;&gt;<i> a small typo and indentation check, sorry, that was my first mail :)
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Hello,
</I>&gt;&gt;&gt;&gt;<i> I've been trying to add some fucntionality to linuxdcpp like getting
</I>&gt;&gt;&gt;&gt;<i> the latest files added to the hub. I was checking for adding a latest
</I>&gt;&gt;&gt;&gt;<i> entry in the nickMenu
</I>&gt;&gt;&gt;&gt;<i> of glade/hub.glade and adding a method onLatestItemClicked in hub.cc.
</I>&gt;&gt;&gt;&gt;<i> I also did a g_signal_connect for this.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> When i compile, there are no errors, but when i run it i get the
</I>&gt;&gt;&gt;&gt;<i> following error. In the nickMenu i cannot find the latest entry.
</I>&gt;&gt;&gt;&gt;<i> Please suggest what should be done to get the latest entry in the
</I>&gt;&gt;&gt;&gt;<i> nickMenu.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> (linuxdcpp:14953): GLib-GObject-WARNING **: invalid (NULL) pointer instance
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> (linuxdcpp:14953): GLib-GObject-CRITICAL **: g_signal_connect_data:
</I>&gt;&gt;&gt;&gt;<i> assertion `G_TYPE_CHECK_INSTANCE (instance)' failed
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Any help will be greatly appreciated!
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> thanks.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hi,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I cannot tell what the problem is based on your description. If you attach the
</I>&gt;&gt;&gt;<i> patch I can probably figure it out.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> -Steven
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> Here is the diff, nothin great, the function is yet to be implemented
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> diff -uprN linuxdcpp-1.0.0/glade/hub.glade linuxdcpp-sandbox/glade/hub.glade
</I>&gt;&gt;<i> --- linuxdcpp-1.0.0/glade/hub.glade     2007-08-05 02:51:46.000000000 +0530
</I>&gt;&gt;<i> +++ linuxdcpp-sandbox/glade/hub.glade   2007-11-25 21:18:37.000000000 +0530
</I>&gt;&gt;<i> @@ -203,6 +203,13 @@
</I>&gt;&gt;<i>        &lt;/widget&gt;
</I>&gt;&gt;<i>      &lt;/child&gt;
</I>&gt;&gt;<i>      &lt;child&gt;
</I>&gt;&gt;<i> +      &lt;widget class=&quot;GtkMenuItem&quot; id=&quot;latestItem&quot;&gt;
</I>&gt;&gt;<i> +        &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
</I>&gt;&gt;<i> +        &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Latest Additions&lt;/property&gt;
</I>&gt;&gt;<i> +        &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
</I>&gt;&gt;<i> +      &lt;/widget&gt;
</I>&gt;&gt;<i> +    &lt;/child&gt;
</I>&gt;&gt;<i> +    &lt;child&gt;
</I>&gt;&gt;<i>        &lt;widget class=&quot;GtkMenuItem&quot; id=&quot;favoriteUserItem&quot;&gt;
</I>&gt;&gt;<i>          &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
</I>&gt;&gt;<i>          &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Add to favorites&lt;/property&gt;
</I>&gt;&gt;<i> diff -uprN linuxdcpp-1.0.0/linux/entry.cc linuxdcpp-sandbox/linux/entry.cc
</I>&gt;&gt;<i> --- linuxdcpp-1.0.0/linux/entry.cc      2007-07-08 20:11:46.000000000 +0530
</I>&gt;&gt;<i> +++ linuxdcpp-sandbox/linux/entry.cc    2007-11-25 20:26:49.000000000 +0530
</I>&gt;&gt;<i> @@ -50,7 +50,7 @@ GtkWidget *Entry::getWidget(const string
</I>&gt;&gt;<i>  {
</I>&gt;&gt;<i>         dcassert(xml &amp;&amp; !name.empty());
</I>&gt;&gt;<i>         GtkWidget *widget = glade_xml_get_widget(xml, name.c_str());
</I>&gt;&gt;<i> -       dcassert(widget);
</I>&gt;&gt;<i> +       //dcassert(widget);
</I>&gt;<i> 
</I>&gt;<i> this was giving an error when compiled with scons debug=1. so i had to
</I>&gt;<i> disable it. nothing to do with what im trying to implement.
</I>
I applied your patch and it worked fine for me. It didn't display any errors in 
the console and properly called onLatestItemClicked_gui (I added a printout). If 
the dcassert is failing in entry, then that means it can't find latestItem in 
hub.glade on your system for some reason. You probably have some old glade files 
installed in your install prefix and it's using those. Remove all linuxdcpp 
installed files if you're going to run from the current directory.

-Steven

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000246.html">[Linuxdcpp-developers] Help - entry in nickMenu not visible
</A></li>
	<LI>Next message: <A HREF="000248.html">[Linuxdcpp-developers] Help - entry in nickMenu not visible
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#247">[ date ]</a>
              <a href="thread.html#247">[ thread ]</a>
              <a href="subject.html#247">[ subject ]</a>
              <a href="author.html#247">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linuxdcpp-developers">More information about the Linuxdcpp-developers
mailing list</a><br>
</body></html>
